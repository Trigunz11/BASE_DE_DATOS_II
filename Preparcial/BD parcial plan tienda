CREATE DATABASE parcial_plan_tienda;
USE parcial_plan_tienda;

CREATE TABLE region (
  region_code VARCHAR(10) PRIMARY KEY,
  region_descript VARCHAR(100) NOT NULL,
  
  region_status ENUM('Active','Inactive') NOT NULL DEFAULT 'Active',
  
  region_tag VARCHAR(50) UNIQUE
);

CREATE TABLE store (
  store_code VARCHAR(10) PRIMARY KEY,
  store_name VARCHAR(100) NOT NULL,
  store_ytd_sales DECIMAL(10,2) NOT NULL,
  
  region_code VARCHAR(10) NOT NULL,
  FOREIGN KEY (region_code) REFERENCES region(region_code),

   store_type ENUM('Physical','Online','Mixed') NOT NULL DEFAULT 'Physical',

   store_active TINYINT(1) NOT NULL DEFAULT 1
);

CREATE TABLE job (
  job_code VARCHAR(10) PRIMARY KEY,
  job_description VARCHAR(100) NOT NULL,
  job_base_pay DECIMAL(10,2) NOT NULL,

  job_type ENUM('Hourly','Salaried','Contract') NOT NULL DEFAULT 'Hourly',

  job_unique VARCHAR(50) UNIQUE
);

CREATE TABLE employee (
  emp_code VARCHAR(10) PRIMARY KEY,
  emp_title VARCHAR(50) NOT NULL,
  emp_lname VARCHAR(50) NOT NULL,
  emp_fname VARCHAR(50) NOT NULL,
  emp_initial CHAR(1),
  emp_dob DATE,

  job_code VARCHAR(10) NOT NULL,
  FOREIGN KEY (job_code) REFERENCES job(job_code),

  store_code VARCHAR(10) NOT NULL,
  FOREIGN KEY (store_code) REFERENCES store(store_code),

  emp_status ENUM('Activo','Inactivo') NOT NULL DEFAULT 'Activo',

  is_fulltime TINYINT(1) NOT NULL DEFAULT 0
);
